{
    "collab_server" : "",
    "contents" : "library(readxl)\nlibrary(rjson)\nlibrary(stringr)\nlibrary(org.Hs.eg.db)\nlibrary(xlsx)\nsource(\"code/common.R\")\n#source(\"code/geoFuncs.R\")\n\noptions(java.parameters = \"-Xmx4g\" )\n\n# load data\nadc_abstracts <- read_excel(\"data/adc_2018_v4.xlsx\")\nsmi_abstracts <- read_excel(\"data/smi_2018_v4.xlsx\")\nsmi_abstracts$X__1 <- NULL\ncolnames(smi_abstracts) <- tolower(colnames(smi_abstracts))\n\ncolnames(adc_abstracts) <- colnames(smi_abstracts)\n\n# edit data\nadc_abstracts$model[adc_abstracts$model %in% c(\"in silico\",\"preclinical in vitro\")] <- \"in silico/in vitro\"\nadc_abstracts$sage_keyword[adc_abstracts$sage_keyword == \"target-tumor\"] <- \"target-tumor interaction\"\nadc_abstracts$sage_keyword[adc_abstracts$sage_keyword == \"resistance\"] <- \"resistance to ADC\"\n\nsmi_abstracts$model[smi_abstracts$model %in% c(\"in silico\",\"preclinical in vitro\")] <- \"in silico/in vitro\"\nsmi_abstracts$sage_keyword[smi_abstracts$sage_keyword == \"target-tumor\"] <- \"target-tumor interaction\"\nsmi_abstracts$sage_keyword[smi_abstracts$sage_keyword == \"discovery\"] <- \"target discovery\"\nsmi_abstracts$sage_keyword[smi_abstracts$sage_keyword == \"drug\"] <- \"drug discovery\"\n\n# last minute edits \n  #withdrawals\nnew.withdrawals <- read_excel(\"data/Interactome_Withdrawn Abstracts.xlsx\")\n\ntable(adc_abstracts$control_number %in% new.withdrawals$CONTROLNUMBER) #FALSE for all\ntable(smi_abstracts$control_number %in% new.withdrawals$CONTROLNUMBER) #FALSE for all\n\n  #remove abstract body\n     ##Control #8992 / Presentation #CT177\n     ##Control #10610 / Presentation #CT144\nrm.abstract.body <- c(\"8992\",\"10610\")\n\ntable(adc_abstracts$control_number %in% rm.abstract.body) #FALSE for all\ntable(smi_abstracts$control_number %in% rm.abstract.body)\n\nsmi_abstracts$abstract_body[smi_abstracts$control_number %in% rm.abstract.body] <- \"\"\n\n############ ADC #############\n\n# # Get abbreviation and description of Categrory\n# adc_abstracts$category_short <- sapply(strsplit(adc_abstracts$Category, ' '), '[', 1)\n# adc_abstracts$category <- sapply(adc_abstracts$Category, function(x){\n#   temp <- strsplit(x,\" \")[[1]]\n#   temp <- paste(temp[2:length(temp)],collapse = \" \")\n#   return(temp)\n# })\n\n# export abstracts text to json \napply(adc_abstracts, 1, function(x){\n  id <- trimws(as.character(x[[\"presentation_number\"]]))\n  l <- list()\n  l[[\"ID\"]] <- id\n  l[[\"title\"]] <- x[[\"abstract_title\"]]\n  l[[\"authors\"]] <- x[[\"author_block\"]]\n  l[['presenter']] <- paste(x[[\"presenter_firstname\"]], x[[\"presenter_lastname\"]],sep=\" \")\n  l[[\"text\"]] <- x[[\"abstract_body\"]]\n  l[[\"keywords\"]] <- gsub(\";NA\",\"\",paste(x[[\"keyword1\"]],x[[\"keyword2\"]],x[[\"keyword3\"]],x[[\"keyword4\"]],sep=\";\"))\n  l[[\"organ\"]] <- x[[\"primary_organ\"]]\n  l[[\"target\"]] <- x[[\"target\"]]\n  l[[\"tumor\"]] <- x[[\"tumor\"]]\n  l[[\"sage\"]] <- x[[\"sage_keyword\"]]\n  l[[\"pharma\"]] <- x[[\"pharma_academia\"]]\n  l[[\"combo\"]] <- x[[\"combination\"]]\n  l[[\"model\"]] <- x[[\"model\"]]\n  fileConn<-file(paste0(\"./json/\",id,\".json\"))\n  writeLines(toJSON(l), fileConn)\n  close(fileConn)\n  return(NA)\n})\n\n\n############ SMI #############\napply(smi_abstracts, 1, function(x){\n  id <- trimws(as.character(x[[\"presentation_number\"]]))\n  l <- list()\n  l[[\"ID\"]] <- id\n  l[[\"title\"]] <- x[[\"abstract_title\"]]\n  l[[\"authors\"]] <- x[[\"author_block\"]]\n  l[['presenter']] <- paste(x[[\"presenter_firstname\"]], x[[\"presenter_lastname\"]],sep=\" \")\n  l[[\"text\"]] <- x[[\"abstract_body\"]]\n  l[[\"keywords\"]] <- gsub(\";NA\",\"\",paste(x[[\"keyword1\"]],x[[\"keyword2\"]],x[[\"keyword3\"]],x[[\"keyword4\"]],sep=\";\"))\n  l[[\"organ\"]] <- x[[\"primary_organ\"]]\n  l[[\"target\"]] <- x[[\"target\"]]\n  l[[\"tumor\"]] <- x[[\"tumor\"]]\n  l[[\"sage\"]] <- x[[\"sage_keyword\"]]\n  l[[\"pharma\"]] <- x[[\"pharma_academia\"]]\n  l[[\"combo\"]] <- x[[\"combination\"]]\n  l[[\"model\"]] <- x[[\"model\"]]\n  fileConn<-file(paste0(\"./json/\",id,\".json\"))\n  writeLines(toJSON(l), fileConn)\n  close(fileConn)\n  return(NA)\n})\n\n# Outputs\n\ndf.adc <- adc_abstracts\ndf.smi <- smi_abstracts\n\n# df.[topic].[pharma_academia].[combination]\n\n# pharma_academia\ndf.adc.academia.all <- df.adc[df.adc$pharma_academia ==\"academia\",]\ndf.adc.pharma.all <- df.adc[df.adc$pharma_academia ==\"pharma\",]\n\ndf.smi.academia.all <- df.smi[df.smi$pharma_academia ==\"academia\",]\ndf.smi.pharma.all <- df.smi[df.smi$pharma_academia ==\"pharma\",]\n\n# combination\ndf.adc.all.y <- df.adc[df.adc$combination ==\"yes\",]\ndf.adc.all.n <- df.adc[df.adc$combination ==\"no\",]\n\ndf.smi.all.y <- df.smi[df.smi$combination ==\"yes\",]\ndf.smi.all.n <- df.smi[df.smi$combination ==\"no\",]\n\n# [pharma_academia]_[combination]\ndf.adc.academia.y <- merge(df.adc.academia.all,df.adc.all.y)\ndf.adc.academia.n <- merge(df.adc.academia.all,df.adc.all.n)\ndf.adc.pharma.y <- merge(df.adc.pharma.all,df.adc.all.y)\ndf.adc.pharma.n <- merge(df.adc.pharma.all,df.adc.all.n)\n\ndf.smi.academia.y <- merge(df.smi.academia.all,df.smi.all.y)\ndf.smi.academia.n <- merge(df.smi.academia.all,df.smi.all.n)\ndf.smi.pharma.y <- merge(df.smi.pharma.all,df.smi.all.y)\ndf.smi.pharma.n <- merge(df.smi.pharma.all,df.smi.all.n)\n\n# TARGET clustering\n# aacr2018_adc_target_[pharma_academia]_[combination].json\nroot <- list(name=\"TARGET\",title=\"\")\n\n# ADC\ntmp <- split(df.adc, factor(df.adc$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_all_all.json\")\ntmp <- split(df.adc.all.y, factor(df.adc.all.y$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_all_y.json\")\ntmp <- split(df.adc.all.n, factor(df.adc.all.n$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_all_n.json\")\n\ntmp <- split(df.adc.academia.all, factor(df.adc.academia.all$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_academia_all.json\")\ntmp <- split(df.adc.academia.y, factor(df.adc.academia.y$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_academia_y.json\")\ntmp <- split(df.adc.academia.n, factor(df.adc.academia.n$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_academia_n.json\")\n\ntmp <- split(df.adc.pharma.all, factor(df.adc.pharma.all$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_pharma_all.json\")\ntmp <- split(df.adc.pharma.y, factor(df.adc.pharma.y$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_pharma_y.json\")\ntmp <- split(df.adc.pharma.n, factor(df.adc.pharma.n$target))\ncategoryCluster(root, tmp, \"aacr2018_adc_target_pharma_n.json\")\n\n# SMI\ntmp <- split(df.smi, factor(df.smi$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_all_all.json\")\ntmp <- split(df.smi.all.y, factor(df.smi.all.y$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_all_y.json\")\ntmp <- split(df.smi.all.n, factor(df.smi.all.n$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_all_n.json\")\n\ntmp <- split(df.smi.academia.all, factor(df.smi.academia.all$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_academia_all.json\")\ntmp <- split(df.smi.academia.y, factor(df.smi.academia.y$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_academia_y.json\")\ntmp <- split(df.smi.academia.n, factor(df.smi.academia.n$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_academia_n.json\")\n\ntmp <- split(df.smi.pharma.all, factor(df.smi.pharma.all$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_pharma_all.json\")\ntmp <- split(df.smi.pharma.y, factor(df.smi.pharma.y$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_pharma_y.json\")\ntmp <- split(df.smi.pharma.n, factor(df.smi.pharma.n$target))\ncategoryCluster(root, tmp, \"aacr2018_smi_target_pharma_n.json\")\n\n# TUMOR clustering\nroot <- list(name=\"TUMOR\",title=\"\")\n\n# ADC\nadc.tumor <- strsplit(df.adc$tumor, split = \"_\")\ndf.adc.id.temp <- data.frame(control_number= rep(df.adc$control_number, sapply(adc.tumor, length)), \n                             tumor = unlist(adc.tumor),stringsAsFactors = FALSE)\n\n #edits\ndf.adc.id.temp$tumor[df.adc.id.temp$tumor == \"pancreas\"] = \"pancreatic\"\ndf.adc.id.temp$tumor[df.adc.id.temp$tumor == \"neruoblastoma\"] = \"neuroblastoma\"\ndf.adc.id.temp$tumor[df.adc.id.temp$tumor == \"hcc\"] = \"hepatocarcinoma\"\ndf.adc.id.temp$tumor[df.adc.id.temp$tumor == \"tnbc\"] = \"breast\"\n\ndf.adc.temp <- df.adc\ndf.adc.temp$tumor <- NULL\n\ndf.adc.tumor <- merge(df.adc.id.temp,df.adc.temp,by = \"control_number\")\n\n # pharma_academia\ndf.adc.temp <- df.adc.academia.all\ndf.adc.temp$tumor <- NULL\ndf.adc.tumor.academia.all <- merge(df.adc.id.temp,df.adc.temp,by = \"control_number\")\n\ndf.adc.temp <- df.adc.pharma.all\ndf.adc.temp$tumor <- NULL\ndf.adc.tumor.pharma.all <- merge(df.adc.id.temp,df.adc.temp,by = \"control_number\")\n\n # combination\ndf.adc.temp <- df.adc.all.y\ndf.adc.temp$tumor <- NULL\ndf.adc.tumor.all.y <- merge(df.adc.id.temp,df.adc.temp,by = \"control_number\")\n\ndf.adc.temp <- df.adc.all.n\ndf.adc.temp$tumor <- NULL\ndf.adc.tumor.all.n <- merge(df.adc.id.temp,df.adc.temp,by = \"control_number\")\n\n# [pharma_academia]_[combination]\ndf.adc.tumor.academia.y <- merge(df.adc.tumor.academia.all,df.adc.tumor.all.y)\ndf.adc.tumor.academia.n <- merge(df.adc.tumor.academia.all,df.adc.tumor.all.n)\ndf.adc.tumor.pharma.y <- merge(df.adc.tumor.pharma.all,df.adc.tumor.all.y)\ndf.adc.tumor.pharma.n <- merge(df.adc.tumor.pharma.all,df.adc.tumor.all.n)\n\n # make cluster\ntmp <- split(df.adc.tumor, factor(df.adc.tumor$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_all_all.json\")\ntmp <- split(df.adc.tumor.all.y, factor(df.adc.tumor.all.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_all_y.json\")\ntmp <- split(df.adc.tumor.all.n, factor(df.adc.tumor.all.n$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_all_n.json\")\n\ntmp <- split(df.adc.tumor.academia.all, factor(df.adc.tumor.academia.all$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_academia_all.json\")\ntmp <- split(df.adc.tumor.academia.y, factor(df.adc.tumor.academia.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_academia_y.json\")\ntmp <- split(df.adc.tumor.academia.n, factor(df.adc.tumor.academia.n$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_academia_n.json\")\n\ntmp <- split(df.adc.tumor.pharma.all, factor(df.adc.tumor.pharma.all$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_pharma_all.json\")\ntmp <- split(df.adc.tumor.pharma.y, factor(df.adc.tumor.pharma.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_pharma_y.json\")\ntmp <- split(df.adc.tumor.pharma.n, factor(df.adc.tumor.pharma.n$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_adc_tumor_pharma_n.json\")\n\n# SMI\nsmi.tumor <- strsplit(df.smi$tumor, split = \"_\")\ndf.smi.id.temp <- data.frame(control_number= rep(df.smi$control_number, sapply(smi.tumor, length)), \n                             tumor = unlist(smi.tumor),stringsAsFactors = FALSE)\n\ndf.smi.id.temp$tumor[df.smi.id.temp$tumor == \"hcc\"] = \"hepatocarcinoma\"\n\ndf.smi.temp <- df.smi\ndf.smi.temp$tumor <- NULL\n\ndf.smi.tumor <- merge(df.smi.id.temp,df.smi.temp,by = \"control_number\")\n\n# pharma_academia\ndf.smi.temp <- df.smi.academia.all\ndf.smi.temp$tumor <- NULL\ndf.smi.tumor.academia.all <- merge(df.smi.id.temp,df.smi.temp,by = \"control_number\")\n\ndf.smi.temp <- df.smi.pharma.all\ndf.smi.temp$tumor <- NULL\ndf.smi.tumor.pharma.all <- merge(df.smi.id.temp,df.smi.temp,by = \"control_number\")\n\n# combination\ndf.smi.temp <- df.smi.all.y\ndf.smi.temp$tumor <- NULL\ndf.smi.tumor.all.y <- merge(df.smi.id.temp,df.smi.temp,by = \"control_number\")\n\ndf.smi.temp <- df.smi.all.n\ndf.smi.temp$tumor <- NULL\ndf.smi.tumor.all.n <- merge(df.smi.id.temp,df.smi.temp,by = \"control_number\")\n\n# [pharma_academia]_[combination]\ndf.smi.tumor.academia.y <- merge(df.smi.tumor.academia.all,df.smi.tumor.all.y)\ndf.smi.tumor.academia.n <- merge(df.smi.tumor.academia.all,df.smi.tumor.all.n)\ndf.smi.tumor.pharma.y <- merge(df.smi.tumor.pharma.all,df.smi.tumor.all.y)\ndf.smi.tumor.pharma.n <- merge(df.smi.tumor.pharma.all,df.smi.tumor.all.n)\n\n# make cluster\ntmp <- split(df.smi.tumor, factor(df.smi.tumor$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_all_all.json\")\ntmp <- split(df.smi.tumor.all.y, factor(df.smi.tumor.all.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_all_y.json\")\ntmp <- split(df.smi.tumor.all.n, factor(df.smi.tumor.all.n$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_all_n.json\")\n\ntmp <- split(df.smi.tumor.academia.all, factor(df.smi.tumor.academia.all$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_academia_all.json\")\ntmp <- split(df.smi.tumor.academia.y, factor(df.smi.tumor.academia.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_academia_y.json\")\ntmp <- split(df.smi.tumor.academia.n, factor(df.smi.tumor.academia.n$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_academia_n.json\")\n\ntmp <- split(df.smi.tumor.pharma.all, factor(df.smi.tumor.pharma.all$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_pharma_all.json\")\ntmp <- split(df.smi.tumor.pharma.y, factor(df.smi.tumor.pharma.y$tumor))\ncategoryCluster2(root, tmp, \"aacr2018_smi_tumor_pharma_y.json\")\ntmp <- split(df.smi.tumor.pharma.n, factor(df.smi.tumor.pharma.n$tumor))\ncategoryCluster(root, tmp, \"aacr2018_smi_tumor_pharma_n.json\")\n\n\n# Sage clustering\nroot <- list(name=\"SAGE Category\",title=\"\")\n\n# ADC\ntmp <- split(df.adc, factor(df.adc$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_all_all.json\")\ntmp <- split(df.adc.all.y, factor(df.adc.all.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_all_y.json\")\ntmp <- split(df.adc.all.n, factor(df.adc.all.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_all_n.json\")\n\ntmp <- split(df.adc.academia.all, factor(df.adc.academia.all$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_academia_all.json\")\ntmp <- split(df.adc.academia.y, factor(df.adc.academia.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_academia_y.json\")\ntmp <- split(df.adc.academia.n, factor(df.adc.academia.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_academia_n.json\")\n\ntmp <- split(df.adc.pharma.all, factor(df.adc.pharma.all$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_pharma_all.json\")\ntmp <- split(df.adc.pharma.y, factor(df.adc.pharma.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_pharma_y.json\")\ntmp <- split(df.adc.pharma.n, factor(df.adc.pharma.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_adc_sage_pharma_n.json\")\n\n# SMI\ntmp <- split(df.smi, factor(df.smi$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_all_all.json\")\ntmp <- split(df.smi.all.y, factor(df.smi.all.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_all_y.json\")\ntmp <- split(df.smi.all.n, factor(df.smi.all.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_all_n.json\")\n\ntmp <- split(df.smi.academia.all, factor(df.smi.academia.all$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_academia_all.json\")\ntmp <- split(df.smi.academia.y, factor(df.smi.academia.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_academia_y.json\")\ntmp <- split(df.smi.academia.n, factor(df.smi.academia.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_academia_n.json\")\n\ntmp <- split(df.smi.pharma.all, factor(df.smi.pharma.all$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_pharma_all.json\")\ntmp <- split(df.smi.pharma.y, factor(df.smi.pharma.y$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_pharma_y.json\")\ntmp <- split(df.smi.pharma.n, factor(df.smi.pharma.n$sage_keyword))\ncategoryCluster(root, tmp, \"aacr2018_smi_sage_pharma_n.json\")\n\n# Model clustering\nroot <- list(name=\"MODEL\",title=\"\")\n\n# ADC\ntmp <- split(df.adc, factor(df.adc$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_all_all.json\")\ntmp <- split(df.adc.all.y, factor(df.adc.all.y$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_all_y.json\")\ntmp <- split(df.adc.all.n, factor(df.adc.all.n$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_all_n.json\")\n\ntmp <- split(df.adc.academia.all, factor(df.adc.academia.all$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_academia_all.json\")\ntmp <- split(df.adc.academia.y, factor(df.adc.academia.y$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_academia_y.json\")\ntmp <- split(df.adc.academia.n, factor(df.adc.academia.n$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_academia_n.json\")\n\ntmp <- split(df.adc.pharma.all, factor(df.adc.pharma.all$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_pharma_all.json\")\ntmp <- split(df.adc.pharma.y, factor(df.adc.pharma.y$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_pharma_y.json\")\ntmp <- split(df.adc.pharma.n, factor(df.adc.pharma.n$model))\ncategoryCluster(root, tmp, \"aacr2018_adc_model_pharma_n.json\")\n\n# SMI\ntmp <- split(df.smi, factor(df.smi$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_all_all.json\")\ntmp <- split(df.smi.all.y, factor(df.smi.all.y$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_all_y.json\")\ntmp <- split(df.smi.all.n, factor(df.smi.all.n$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_all_n.json\")\n\ntmp <- split(df.smi.academia.all, factor(df.smi.academia.all$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_academia_all.json\")\ntmp <- split(df.smi.academia.y, factor(df.smi.academia.y$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_academia_y.json\")\ntmp <- split(df.smi.academia.n, factor(df.smi.academia.n$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_academia_n.json\")\n\ntmp <- split(df.smi.pharma.all, factor(df.smi.pharma.all$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_pharma_all.json\")\ntmp <- split(df.smi.pharma.y, factor(df.smi.pharma.y$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_pharma_y.json\")\ntmp <- split(df.smi.pharma.n, factor(df.smi.pharma.n$model))\ncategoryCluster(root, tmp, \"aacr2018_smi_model_pharma_n.json\")\n\n#############################################################\nfoo <- strsplit(df.adc$tumor, split = \"_\")\nbar <- data.frame(control_number= rep(df.adc$control_number, sapply(foo, length)), tumor = unlist(foo))\n\ntesting <- df.adc\ntesting$tumor <- NULL\n\nbar <- merge(bar,testing,by = \"control_number\")\n",
    "created" : 1522869277107.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4096998023",
    "id" : "835D882E",
    "lastKnownWriteTime" : 1523039936,
    "last_content_update" : 1523039936694,
    "path" : "~/Dropbox/sage/AACR_interactome/2018/code/AACR2018.R",
    "project_path" : "code/AACR2018.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}